<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dove of Hope - Logo AnimÃ© avec Philosophie (14 langues)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 20px;
            overflow-x: hidden;
        }

        .language-selector {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            max-height: 90vh;
            overflow-y: auto;
        }

        .language-selector h3 {
            margin-bottom: 10px;
            font-size: 14px;
            color: #333;
        }

        .language-btn {
            display: block;
            width: 100%;
            padding: 8px 12px;
            margin: 5px 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 13px;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .language-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .language-btn.active {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            font-weight: bold;
        }

        .logo-container {
            background: white;
            border-radius: 30px;
            padding: 60px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            text-align: center;
            margin-bottom: 40px;
            animation: fadeInUp 1s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .logo-svg {
            width: 300px;
            height: 300px;
            margin-bottom: 30px;
            border: 8px solid transparent;
            border-radius: 20px;
            background: linear-gradient(white, white) padding-box,
                        linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%) border-box;
            box-shadow: 0 8px 32px rgba(102, 126, 234, 0.4),
                        inset 0 0 20px rgba(255, 215, 0, 0.1);
        }

        .dove-wing-left {
            animation: flapLeft 2s ease-in-out infinite;
            transform-origin: 150px 150px;
        }

        .dove-wing-right {
            animation: flapRight 2s ease-in-out infinite;
            transform-origin: 150px 150px;
        }

        @keyframes flapLeft {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(-15deg); }
        }

        @keyframes flapRight {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(15deg); }
        }

        .dove-body {
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .divine-aura {
            animation: auraGlow 3s ease-in-out infinite;
        }

        @keyframes auraGlow {
            0%, 100% { opacity: 0.6; transform: scale(1); }
            50% { opacity: 0.9; transform: scale(1.05); }
        }

        .sun {
            animation: sunRotate 20s linear infinite;
            transform-origin: 240px 60px;
        }

        @keyframes sunRotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .design-lines {
            animation: lineFlow 4s ease-in-out infinite;
        }

        @keyframes lineFlow {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.6; }
        }

        .philosophy-text {
            font-size: 24px;
            font-weight: bold;
            color: #333;
            margin: 20px 0;
            line-height: 1.6;
            animation: textGlow 3s ease-in-out infinite;
        }

        @keyframes textGlow {
            0%, 100% { text-shadow: 0 0 10px rgba(102, 126, 234, 0.5); }
            50% { text-shadow: 0 0 20px rgba(102, 126, 234, 0.8); }
        }

        .tagline {
            font-size: 18px;
            color: #666;
            font-style: italic;
            margin-top: 10px;
        }

        .download-section {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            max-width: 800px;
            width: 100%;
        }

        .download-section h2 {
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }

        .download-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .download-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 25px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: transform 0.2s, box-shadow 0.2s;
            text-align: center;
        }

        .download-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        .download-btn.btn-video {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .download-btn.btn-video:hover {
            box-shadow: 0 8px 20px rgba(240, 147, 251, 0.5);
        }

        .download-btn.btn-jpg {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .download-btn.btn-jpg:hover {
            box-shadow: 0 8px 20px rgba(79, 172, 254, 0.5);
        }

        .download-btn:active {
            font-size: 12px;
            color: #999;
            margin-top: 5px;
        }

        .social-preview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .preview-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }

        .preview-card h3 {
            margin-bottom: 15px;
            font-size: 18px;
            color: #333;
            text-align: center;
        }

        .preview-canvas {
            width: 100%;
            border-radius: 10px;
            border: 4px solid transparent;
            background: linear-gradient(white, white) padding-box,
                        linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%) border-box;
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3),
                        inset 0 0 15px rgba(255, 215, 0, 0.05);
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            display: block;
            margin: 0 auto;
        }
        
        .preview-canvas.portrait {
            max-width: 50%;
            height: auto;
        }

        .preview-canvas:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 30px rgba(102, 126, 234, 0.5),
                        inset 0 0 20px rgba(255, 215, 0, 0.1);
        }

        .preview-info {
            margin-top: 10px;
            text-align: center;
            font-size: 13px;
            color: #666;
        }

        .preview-icon {
            width: 100px;
            height: 100px;
            margin: 0 auto 15px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 50px;
        }

        .sparkle {
            animation: sparkle 2s ease-in-out infinite;
        }

        @keyframes sparkle {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
        }
    </style>
</head>
<body>
    <div class="language-selector">
        <h3>ğŸŒ Langues / Languages</h3>
        <button class="language-btn active" onclick="changeLanguage('fr')">ğŸ‡«ğŸ‡· FranÃ§ais</button>
        <button class="language-btn" onclick="changeLanguage('en')">ğŸ‡¬ğŸ‡§ English</button>
        <button class="language-btn" onclick="changeLanguage('es')">ğŸ‡ªğŸ‡¸ EspaÃ±ol</button>
        <button class="language-btn" onclick="changeLanguage('de')">ğŸ‡©ğŸ‡ª Deutsch</button>
        <button class="language-btn" onclick="changeLanguage('it')">ğŸ‡®ğŸ‡¹ Italiano</button>
        <button class="language-btn" onclick="changeLanguage('pt')">ğŸ‡µğŸ‡¹ PortuguÃªs</button>
        <button class="language-btn" onclick="changeLanguage('ru')">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
        <button class="language-btn" onclick="changeLanguage('ar')">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
        <button class="language-btn" onclick="changeLanguage('zh')">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</button>
        <button class="language-btn" onclick="changeLanguage('ja')">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</button>
        <button class="language-btn" onclick="changeLanguage('ko')">ğŸ‡°ğŸ‡· í•œêµ­ì–´</button>
        <button class="language-btn" onclick="changeLanguage('hi')">ğŸ‡®ğŸ‡³ à¤¹à¤¿à¤¨à¥à¤¦à¥€</button>
        <button class="language-btn" onclick="changeLanguage('nl')">ğŸ‡³ğŸ‡± Nederlands</button>
        <button class="language-btn" onclick="changeLanguage('tr')">ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e</button>
    </div>

    <div class="logo-container">
        <svg class="logo-svg" viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg">
            <!-- DÃ©gradÃ©s -->
            <defs>
                <radialGradient id="skyGradient" cx="50%" cy="30%">
                    <stop offset="0%" style="stop-color:#FFE484;stop-opacity:1" />
                    <stop offset="30%" style="stop-color:#87CEEB;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#667eea;stop-opacity:1" />
                </radialGradient>
                <radialGradient id="haloGradient" cx="50%" cy="50%">
                    <stop offset="0%" style="stop-color:rgba(241,196,15,0.3);stop-opacity:1" />
                    <stop offset="50%" style="stop-color:rgba(241,196,15,0.2);stop-opacity:1" />
                    <stop offset="100%" style="stop-color:rgba(241,196,15,0);stop-opacity:0" />
                </radialGradient>
                <filter id="glow">
                    <feGaussianBlur stdDeviation="5" result="coloredBlur"/>
                    <feMerge>
                        <feMergeNode in="coloredBlur"/>
                        <feMergeNode in="SourceGraphic"/>
                    </feMerge>
                </filter>
                <filter id="strongGlow">
                    <feGaussianBlur stdDeviation="10" result="coloredBlur"/>
                    <feMerge>
                        <feMergeNode in="coloredBlur"/>
                        <feMergeNode in="SourceGraphic"/>
                    </feMerge>
                </filter>
            </defs>

            <!-- Fond ciel avec dÃ©gradÃ© -->
            <rect width="300" height="300" fill="url(#skyGradient)"/>

            <!-- Soleil -->
            <g class="sun">
                <circle cx="240" cy="60" r="35" fill="#FFD700" opacity="0.9" filter="url(#glow)"/>
                <circle cx="240" cy="60" r="28" fill="#FFF4D6"/>
                <!-- Rayons du soleil -->
                <g opacity="0.7">
                    <line x1="240" y1="15" x2="240" y2="5" stroke="#FFD700" stroke-width="3" stroke-linecap="round"/>
                    <line x1="270" y1="30" x2="277" y2="23" stroke="#FFD700" stroke-width="3" stroke-linecap="round"/>
                    <line x1="285" y1="60" x2="295" y2="60" stroke="#FFD700" stroke-width="3" stroke-linecap="round"/>
                    <line x1="270" y1="90" x2="277" y2="97" stroke="#FFD700" stroke-width="3" stroke-linecap="round"/>
                    <line x1="210" y1="30" x2="203" y2="23" stroke="#FFD700" stroke-width="3" stroke-linecap="round"/>
                    <line x1="240" y1="105" x2="240" y2="115" stroke="#FFD700" stroke-width="3" stroke-linecap="round"/>
                </g>
            </g>

            <!-- Nuages d'arriÃ¨re-plan -->
            <g opacity="0.6">
                <ellipse cx="80" cy="80" rx="35" ry="20" fill="#FFFFFF"/>
                <ellipse cx="100" cy="75" rx="25" ry="18" fill="#FFFFFF"/>
                <ellipse cx="60" cy="75" rx="20" ry="15" fill="#FFFFFF"/>
            </g>
            <g opacity="0.5">
                <ellipse cx="220" cy="200" rx="40" ry="22" fill="#FFFFFF"/>
                <ellipse cx="245" cy="195" rx="28" ry="20" fill="#FFFFFF"/>
            </g>

            <!-- Lignes de design dynamiques -->
            <g class="design-lines" opacity="0.3">
                <path d="M20 150 Q80 130 150 140 T280 150" stroke="#FFFFFF" stroke-width="2" fill="none"/>
                <path d="M30 180 Q90 165 150 170 T270 180" stroke="#FFFFFF" stroke-width="1.5" fill="none"/>
            </g>

            <!-- Halo divin (comme dans le jeu) -->
            <g class="divine-aura">
                <circle cx="150" cy="155" r="40" fill="url(#haloGradient)" filter="url(#glow)"/>
            </g>

            <!-- Aura lumineuse externe -->
            <circle cx="150" cy="155" r="50" fill="rgba(255,255,255,0.1)" filter="url(#strongGlow)" opacity="0.8"/>

            <!-- Rayons de lumiÃ¨re (particules) -->
            <g class="sparkle">
                <circle cx="120" cy="130" r="2" fill="#FFD700" opacity="0.8">
                    <animate attributeName="opacity" values="0.8;0.3;0.8" dur="2s" repeatCount="indefinite"/>
                </circle>
                <circle cx="180" cy="140" r="2" fill="#FFD700" opacity="0.7">
                    <animate attributeName="opacity" values="0.7;0.3;0.7" dur="2.5s" repeatCount="indefinite"/>
                </circle>
                <circle cx="140" cy="115" r="1.5" fill="#FFF4D6" opacity="0.9">
                    <animate attributeName="opacity" values="0.9;0.4;0.9" dur="1.8s" repeatCount="indefinite"/>
                </circle>
                <circle cx="165" cy="125" r="1.5" fill="#FFF4D6" opacity="0.8">
                    <animate attributeName="opacity" values="0.8;0.3;0.8" dur="2.2s" repeatCount="indefinite"/>
                </circle>
            </g>

            <!-- COLOMBE DU JEU (CODE EXACT) -->
            <g class="dove-body" filter="url(#strongGlow)">
                <!-- TÃªte/bec -->
                <path d="M150 148 L145 162 L155 162 Z" 
                      fill="#FFFFFF" stroke="#2c3e50" stroke-width="1"/>
                
                <!-- Aile gauche (avec animation) -->
                <g class="dove-wing-left">
                    <path d="M145 152 L132 150 L148 165 Z" 
                          fill="#FFFFFF" stroke="#2c3e50" stroke-width="1"/>
                </g>
                
                <!-- Aile droite (avec animation) -->
                <g class="dove-wing-right">
                    <path d="M155 152 L168 148 L152 165 Z" 
                          fill="#FFFFFF" stroke="#2c3e50" stroke-width="1"/>
                </g>
                
                <!-- Queue -->
                <path d="M150 162 L148 170 L152 170 Z" 
                      fill="#FFFFFF" stroke="#2c3e50" stroke-width="1"/>
            </g>

            <!-- Cercles de design au premier plan -->
            <g class="design-circles" opacity="0.4">
                <circle cx="150" cy="155" r="70" fill="none" stroke="#FFFFFF" stroke-width="1.5"/>
                <circle cx="150" cy="155" r="55" fill="none" stroke="#FFFFFF" stroke-width="1"/>
            </g>

            <!-- Ã‰toiles dorÃ©es autour -->
            <g class="golden-stars">
                <g transform="translate(120, 130)">
                    <circle r="3" fill="#FFD700" filter="url(#glow)"/>
                    <line x1="0" y1="-6" x2="0" y2="6" stroke="#FFD700" stroke-width="1" opacity="0.8"/>
                    <line x1="-6" y1="0" x2="6" y2="0" stroke="#FFD700" stroke-width="1" opacity="0.8"/>
                </g>
                <g transform="translate(180, 140)">
                    <circle r="3" fill="#FFD700" filter="url(#glow)"/>
                    <line x1="0" y1="-6" x2="0" y2="6" stroke="#FFD700" stroke-width="1" opacity="0.8"/>
                    <line x1="-6" y1="0" x2="6" y2="0" stroke="#FFD700" stroke-width="1" opacity="0.8"/>
                </g>
                <g transform="translate(140, 115)">
                    <circle r="2" fill="#FFF4D6" filter="url(#glow)"/>
                </g>
                <g transform="translate(165, 125)">
                    <circle r="2" fill="#FFF4D6" filter="url(#glow)"/>
                </g>
                <g transform="translate(130, 180)">
                    <circle r="2" fill="#FFD700" filter="url(#glow)"/>
                </g>
                <g transform="translate(170, 185)">
                    <circle r="2" fill="#FFD700" filter="url(#glow)"/>
                </g>
            </g>
        </svg>

        <div class="philosophy-text" id="philosophy">
            Vole petite colombe avec courage<br>
            Ton cÅ“ur est bon, persÃ©vÃ¨re<br>
            N'abandonne jamais !
        </div>
        <div class="tagline" id="tagline">
            ğŸ•Šï¸ Dove of Hope: Sky Blessing ğŸ•Šï¸
        </div>
        
        <!-- Boutons d'export pour le logo SVG -->
        <div style="display:flex;gap:10px;justify-content:center;margin-top:20px;">
            <button class="download-btn btn-jpg" style="padding:10px 20px;" onclick="downloadMainLogoJPG(1920)">
                ğŸ“¸ Export JPG 1920x1920
            </button>
            <button class="download-btn btn-video" style="padding:10px 20px;" onclick="downloadMainLogoVideo()">
                ğŸ¬ Export VidÃ©o 5s
            </button>
        </div>
    </div>

    <div class="download-section">
        <h2>ğŸ“¦ TÃ©lÃ©charger les Ressources</h2>
        
        <div class="download-grid">
            <div>
                <button class="download-btn btn-video" onclick="downloadVideo()">
                    ğŸ¬ VidÃ©o MP4
                    <div class="size-info">Animation 5s (1080x1080)</div>
                </button>
            </div>
            <div>
                <button class="download-btn btn-jpg" onclick="downloadJPG(1920)">
                    ğŸ“¸ JPG HD 1920x1920
                    <div class="size-info">Haute qualitÃ©</div>
                </button>
            </div>
            <div>
                <button class="download-btn btn-jpg" onclick="downloadJPG(1080)">
                    ğŸ“¸ JPG 1080x1080
                    <div class="size-info">RÃ©seaux sociaux</div>
                </button>
            </div>
            <div>
                <button class="download-btn" onclick="downloadLogo('png', 512)">
                    Logo PNG 512x512
                    <div class="size-info">IcÃ´ne Web App</div>
                </button>
            </div>
            <div>
                <button class="download-btn" onclick="downloadLogo('png', 192)">
                    Logo PNG 192x192
                    <div class="size-info">IcÃ´ne Web App</div>
                </button>
            </div>
            <div>
                <button class="download-btn" onclick="downloadFavicon()">
                    Favicon ICO
                    <div class="size-info">16x16, 32x32, 48x48</div>
                </button>
            </div>
            <div>
                <button class="download-btn" onclick="downloadSVG()">
                    Logo SVG
                    <div class="size-info">Vectoriel</div>
                </button>
            </div>
            <div>
                <button class="download-btn" onclick="downloadSocial('facebook')">
                    Facebook Cover
                    <div class="size-info">1200x630</div>
                </button>
            </div>
            <div>
                <button class="download-btn" onclick="downloadSocial('instagram')">
                    Instagram Post
                    <div class="size-info">1080x1080</div>
                </button>
            </div>
            <div>
                <button class="download-btn" onclick="downloadSocial('twitter')">
                    Twitter Header
                    <div class="size-info">1500x500</div>
                </button>
            </div>
            <div>
                <button class="download-btn" onclick="downloadSocial('youtube')">
                    YouTube Banner
                    <div class="size-info">2560x1440</div>
                </button>
            </div>
        </div>

        <h2 style="margin-top: 40px;">ğŸ‘ï¸ AperÃ§us RÃ©seaux Sociaux</h2>
        <div class="social-preview">
            <div class="preview-card">
                <h3>ğŸ“˜ Facebook</h3>
                <canvas id="previewFacebook" class="preview-canvas"></canvas>
                <div class="preview-info">1200x630px</div>
                <div style="display:flex;gap:5px;margin-top:10px;">
                    <button class="download-btn" style="flex:1;font-size:12px;padding:8px;" onclick="downloadSocialFormat('facebook', 'png')">PNG</button>
                    <button class="download-btn btn-jpg" style="flex:1;font-size:12px;padding:8px;" onclick="downloadSocialFormat('facebook', 'jpg')">JPG</button>
                    <button class="download-btn btn-video" style="flex:1;font-size:12px;padding:8px;" onclick="downloadSocialVideo('facebook')">VidÃ©o</button>
                </div>
            </div>
            <div class="preview-card">
                <h3>ğŸ“¸ Instagram</h3>
                <canvas id="previewInstagram" class="preview-canvas"></canvas>
                <div class="preview-info">1080x1080px</div>
                <div style="display:flex;gap:5px;margin-top:10px;">
                    <button class="download-btn" style="flex:1;font-size:12px;padding:8px;" onclick="downloadSocialFormat('instagram', 'png')">PNG</button>
                    <button class="download-btn btn-jpg" style="flex:1;font-size:12px;padding:8px;" onclick="downloadSocialFormat('instagram', 'jpg')">JPG</button>
                    <button class="download-btn btn-video" style="flex:1;font-size:12px;padding:8px;" onclick="downloadSocialVideo('instagram')">VidÃ©o</button>
                </div>
            </div>
            <div class="preview-card">
                <h3>ğŸ¦ Twitter/X</h3>
                <canvas id="previewTwitter" class="preview-canvas"></canvas>
                <div class="preview-info">1500x500px</div>
                <div style="display:flex;gap:5px;margin-top:10px;">
                    <button class="download-btn" style="flex:1;font-size:12px;padding:8px;" onclick="downloadSocialFormat('twitter', 'png')">PNG</button>
                    <button class="download-btn btn-jpg" style="flex:1;font-size:12px;padding:8px;" onclick="downloadSocialFormat('twitter', 'jpg')">JPG</button>
                    <button class="download-btn btn-video" style="flex:1;font-size:12px;padding:8px;" onclick="downloadSocialVideo('twitter')">VidÃ©o</button>
                </div>
            </div>
            <div class="preview-card">
                <h3>ğŸ“º YouTube Horizontal</h3>
                <canvas id="previewYouTube" class="preview-canvas"></canvas>
                <div class="preview-info">2560x1440px (16:9)</div>
                <div style="display:flex;gap:5px;margin-top:10px;">
                    <button class="download-btn" style="flex:1;font-size:12px;padding:8px;" onclick="downloadSocialFormat('youtube', 'png')">PNG</button>
                    <button class="download-btn btn-jpg" style="flex:1;font-size:12px;padding:8px;" onclick="downloadSocialFormat('youtube', 'jpg')">JPG</button>
                    <button class="download-btn btn-video" style="flex:1;font-size:12px;padding:8px;" onclick="downloadSocialVideo('youtube')">VidÃ©o</button>
                </div>
            </div>
            <div class="preview-card">
                <h3>ğŸ“º YouTube Shorts</h3>
                <canvas id="previewYoutubeShorts" class="preview-canvas portrait"></canvas>
                <div class="preview-info">1080x1920px (9:16)</div>
                <div style="display:flex;gap:5px;margin-top:10px;flex-wrap:wrap;justify-content:center;">
                    <button class="download-btn" style="flex:1;min-width:80px;font-size:12px;padding:8px;" onclick="downloadSocialFormat('youtubeshorts', 'png')">PNG</button>
                    <button class="download-btn btn-jpg" style="flex:1;min-width:80px;font-size:12px;padding:8px;" onclick="downloadSocialFormat('youtubeshorts', 'jpg')">JPG</button>
                    <button class="download-btn btn-video" style="flex:1;min-width:80px;font-size:12px;padding:8px;" onclick="downloadSocialVideo('youtubeshorts')">VidÃ©o</button>
                </div>
            </div>
            <div class="preview-card">
                <h3>ğŸµ TikTok Portrait</h3>
                <canvas id="previewTiktok" class="preview-canvas portrait"></canvas>
                <div class="preview-info">1080x1920px (9:16)</div>
                <div style="display:flex;gap:5px;margin-top:10px;flex-wrap:wrap;justify-content:center;">
                    <button class="download-btn" style="flex:1;min-width:80px;font-size:12px;padding:8px;" onclick="downloadSocialFormat('tiktok', 'png')">PNG</button>
                    <button class="download-btn btn-jpg" style="flex:1;min-width:80px;font-size:12px;padding:8px;" onclick="downloadSocialFormat('tiktok', 'jpg')">JPG</button>
                    <button class="download-btn btn-video" style="flex:1;min-width:80px;font-size:12px;padding:8px;" onclick="downloadSocialVideo('tiktok')">VidÃ©o</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const translations = {
            fr: {
                philosophy: "Vole petite colombe avec courage<br>Ton cÅ“ur est bon, persÃ©vÃ¨re<br>N'abandonne jamais !",
                tagline: "ğŸ•Šï¸ Dove of Hope: Sky Blessing ğŸ•Šï¸"
            },
            en: {
                philosophy: "Fly little dove with courage<br>Your heart is good, persevere<br>Never give up!",
                tagline: "ğŸ•Šï¸ Dove of Hope: Sky Blessing ğŸ•Šï¸"
            },
            es: {
                philosophy: "Vuela pequeÃ±a paloma con coraje<br>Tu corazÃ³n es bueno, persevera<br>Â¡Nunca te rindas!",
                tagline: "ğŸ•Šï¸ Paloma de la Esperanza: BendiciÃ³n del Cielo ğŸ•Šï¸"
            },
            de: {
                philosophy: "Fliege kleine Taube mit Mut<br>Dein Herz ist gut, halte durch<br>Gib niemals auf!",
                tagline: "ğŸ•Šï¸ Taube der Hoffnung: Himmels Segen ğŸ•Šï¸"
            },
            it: {
                philosophy: "Vola piccola colomba con coraggio<br>Il tuo cuore Ã¨ buono, persevera<br>Non mollare mai!",
                tagline: "ğŸ•Šï¸ Colomba della Speranza: Benedizione del Cielo ğŸ•Šï¸"
            },
            pt: {
                philosophy: "Voa pequena pomba com coragem<br>Teu coraÃ§Ã£o Ã© bom, persevera<br>Nunca desistas!",
                tagline: "ğŸ•Šï¸ Pomba da EsperanÃ§a: BÃªnÃ§Ã£o do CÃ©u ğŸ•Šï¸"
            },
            ru: {
                philosophy: "Ğ›ĞµÑ‚Ğ¸ Ğ¼Ğ°Ğ»ĞµĞ½ÑŒĞºĞ¸Ğ¹ Ğ³Ğ¾Ğ»ÑƒĞ±ÑŒ Ñ Ğ¾Ñ‚Ğ²Ğ°Ğ³Ğ¾Ğ¹<br>Ğ¢Ğ²Ğ¾Ğµ ÑĞµÑ€Ğ´Ñ†Ğµ Ğ´Ğ¾Ğ±Ñ€Ğ¾Ğµ, Ğ½Ğµ ÑĞ´Ğ°Ğ²Ğ°Ğ¹ÑÑ<br>ĞĞ¸ĞºĞ¾Ğ³Ğ´Ğ° Ğ½Ğµ Ğ¾Ñ‚ÑÑ‚ÑƒĞ¿Ğ°Ğ¹!",
                tagline: "ğŸ•Šï¸ Ğ“Ğ¾Ğ»ÑƒĞ±ÑŒ ĞĞ°Ğ´ĞµĞ¶Ğ´Ñ‹: ĞĞµĞ±ĞµÑĞ½Ğ¾Ğµ Ğ‘Ğ»Ğ°Ğ³Ğ¾ÑĞ»Ğ¾Ğ²ĞµĞ½Ğ¸Ğµ ğŸ•Šï¸"
            },
            ar: {
                philosophy: "Ø·Ø± Ø£ÙŠÙ‡Ø§ Ø§Ù„Ø­Ù…Ø§Ù… Ø§Ù„ØµØºÙŠØ± Ø¨Ø´Ø¬Ø§Ø¹Ø©<br>Ù‚Ù„Ø¨Ùƒ Ø·ÙŠØ¨ØŒ Ø«Ø§Ø¨Ø±<br>!Ù„Ø§ ØªØ³ØªØ³Ù„Ù… Ø£Ø¨Ø¯Ø§Ù‹",
                tagline: "ğŸ•Šï¸ Ø­Ù…Ø§Ù…Ø© Ø§Ù„Ø£Ù…Ù„: Ø¨Ø±ÙƒØ© Ø§Ù„Ø³Ù…Ø§Ø¡ ğŸ•Šï¸"
            },
            zh: {
                philosophy: "å‹‡æ•¢é£ç¿”å§ï¼Œå°é¸½å­<br>ä½ çš„å¿ƒæ˜¯å–„è‰¯çš„ï¼ŒåšæŒä¸‹å»<br>æ°¸ä¸æ”¾å¼ƒï¼",
                tagline: "ğŸ•Šï¸ å¸Œæœ›ä¹‹é¸½ï¼šå¤©ç©ºçš„ç¥ç¦ ğŸ•Šï¸"
            },
            ja: {
                philosophy: "å‹‡æ°—ã‚’æŒã£ã¦é£›ã¹ã€å°ã•ãªé³©ã‚ˆ<br>ã‚ãªãŸã®å¿ƒã¯å–„ã„ã€è«¦ã‚ãªã„ã§<br>æ±ºã—ã¦è«¦ã‚ã‚‹ãªï¼",
                tagline: "ğŸ•Šï¸ å¸Œæœ›ã®é³©ï¼šå¤©ã®ç¥ç¦ ğŸ•Šï¸"
            },
            ko: {
                philosophy: "ìš©ê¸°ë¥¼ ë‚´ì–´ ë‚ ì•„ë¼, ì‘ì€ ë¹„ë‘˜ê¸°ì—¬<br>ë„ˆì˜ ë§ˆìŒì€ ì„ í•˜ë‹¤, ì¸ë‚´í•˜ë¼<br>ì ˆëŒ€ í¬ê¸°í•˜ì§€ ë§ˆë¼!",
                tagline: "ğŸ•Šï¸ í¬ë§ì˜ ë¹„ë‘˜ê¸°: í•˜ëŠ˜ì˜ ì¶•ë³µ ğŸ•Šï¸"
            },
            hi: {
                philosophy: "à¤¸à¤¾à¤¹à¤¸ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤‰à¤¡à¤¼à¥‹ à¤›à¥‹à¤Ÿà¥‡ à¤•à¤¬à¥‚à¤¤à¤°<br>à¤¤à¥à¤®à¥à¤¹à¤¾à¤°à¤¾ à¤¦à¤¿à¤² à¤…à¤šà¥à¤›à¤¾ à¤¹à¥ˆ, à¤§à¥ˆà¤°à¥à¤¯ à¤°à¤–à¥‹<br>à¤•à¤­à¥€ à¤¹à¤¾à¤° à¤®à¤¤ à¤®à¤¾à¤¨à¥‹!",
                tagline: "ğŸ•Šï¸ à¤†à¤¶à¤¾ à¤•à¤¾ à¤•à¤¬à¥‚à¤¤à¤°: à¤†à¤•à¤¾à¤¶ à¤•à¤¾ à¤†à¤¶à¥€à¤°à¥à¤µà¤¾à¤¦ ğŸ•Šï¸"
            },
            nl: {
                philosophy: "Vlieg kleine duif met moed<br>Je hart is goed, volhard<br>Geef nooit op!",
                tagline: "ğŸ•Šï¸ Duif van Hoop: Hemelse Zegen ğŸ•Šï¸"
            },
            tr: {
                philosophy: "Cesaretle uÃ§ kÃ¼Ã§Ã¼k gÃ¼vercin<br>Kalbin iyidir, sebat et<br>Asla vazgeÃ§me!",
                tagline: "ğŸ•Šï¸ Umut GÃ¼vercini: GÃ¶kyÃ¼zÃ¼ Bereketi ğŸ•Šï¸"
            }
        };

        let currentLang = 'fr';

        // GÃ©nÃ©rer les aperÃ§us au chargement
        window.addEventListener('load', () => {
            generatePreview('facebook');
            generatePreview('instagram');
            generatePreview('twitter');
            generatePreview('youtube');
            generatePreview('youtubeshorts');
            generatePreview('tiktok');
        });

        function generatePreview(platform) {
            const sizes = {
                facebook: { width: 1200, height: 630, scale: 0.25 },
                instagram: { width: 1080, height: 1080, scale: 0.28 },
                twitter: { width: 1500, height: 500, scale: 0.2 },
                youtube: { width: 2560, height: 1440, scale: 0.12 },
                youtubeshorts: { width: 1080, height: 1920, scale: 0.15 },
                tiktok: { width: 1080, height: 1920, scale: 0.15 }
            };
            
            const { width, height, scale } = sizes[platform];
            const canvas = document.getElementById(`preview${platform.charAt(0).toUpperCase() + platform.slice(1)}`);
            const displayWidth = width * scale;
            const displayHeight = height * scale;
            
            canvas.width = width;
            canvas.height = height;
            canvas.style.width = displayWidth + 'px';
            canvas.style.height = displayHeight + 'px';
            
            const ctx = canvas.getContext('2d');
            
            // Fond dÃ©gradÃ©
            const gradient = ctx.createRadialGradient(width/2, height*0.3, 0, width/2, height*0.3, height);
            gradient.addColorStop(0, '#FFE484');
            gradient.addColorStop(0.3, '#87CEEB');
            gradient.addColorStop(0.7, '#667eea');
            gradient.addColorStop(1, '#764ba2');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, width, height);
            
            // Soleil
            const sunSize = Math.min(width, height) * 0.06;
            const sunX = width * 0.85;
            const sunY = height * 0.15;
            const sunGradient = ctx.createRadialGradient(sunX, sunY, 0, sunX, sunY, sunSize);
            sunGradient.addColorStop(0, '#FFF4D6');
            sunGradient.addColorStop(0.7, '#FFD700');
            ctx.fillStyle = sunGradient;
            ctx.shadowBlur = sunSize * 0.5;
            ctx.shadowColor = '#FFD700';
            ctx.beginPath();
            ctx.arc(sunX, sunY, sunSize, 0, Math.PI * 2);
            ctx.fill();
            ctx.shadowBlur = 0;
            
            // Nuages
            const drawCloud = (x, y, cloudSize) => {
                ctx.fillStyle = 'rgba(255, 255, 255, 0.5)';
                ctx.beginPath();
                ctx.ellipse(x, y, cloudSize, cloudSize * 0.6, 0, 0, Math.PI * 2);
                ctx.ellipse(x + cloudSize * 0.5, y - cloudSize * 0.2, cloudSize * 0.8, cloudSize * 0.5, 0, 0, Math.PI * 2);
                ctx.fill();
            };
            const cloudSize = Math.min(width, height) * 0.05;
            drawCloud(width * 0.15, height * 0.25, cloudSize);
            drawCloud(width * 0.7, height * 0.3, cloudSize * 1.2);
            
            // Logo colombe centrÃ© (position adaptÃ©e pour formats portrait)
            const centerX = width / 2;
            let centerY;
            let logoScale;
            
            if (platform === 'twitter') {
                centerY = height * 0.45;
                logoScale = Math.min(width, height) / 300;
            } else if (platform === 'tiktok' || platform === 'youtubeshorts') {
                centerY = height * 0.35; // Plus haut pour formats portrait
                logoScale = width / 300; // Utiliser la largeur pour les portraits
            } else {
                centerY = height * 0.5;
                logoScale = Math.min(width, height) / 300;
            }
            
            // Halo
            const haloSize = 60 * logoScale;
            ctx.fillStyle = 'rgba(241, 196, 15, 0.3)';
            ctx.shadowBlur = 20 * logoScale;
            ctx.shadowColor = '#f1c40f';
            ctx.beginPath();
            ctx.arc(centerX, centerY, haloSize, 0, Math.PI * 2);
            ctx.fill();
            
            // Aura externe
            ctx.fillStyle = 'rgba(255, 255, 255, 0.1)';
            ctx.shadowBlur = 30 * logoScale;
            ctx.shadowColor = 'rgba(241, 196, 15, 0.4)';
            ctx.beginPath();
            ctx.arc(centerX, centerY, haloSize * 1.3, 0, Math.PI * 2);
            ctx.fill();
            ctx.shadowBlur = 0;
            
            // Colombe (triangles du jeu) - plus grande
            const s = (val) => val * logoScale;
            const playerX = centerX - s(20);
            const playerY = centerY - s(15);
            
            ctx.fillStyle = '#ffffff';
            ctx.strokeStyle = '#2c3e50';
            ctx.lineWidth = Math.max(2, s(1.5));
            ctx.shadowBlur = s(20);
            ctx.shadowColor = '#f1c40f';
            
            // TÃªte
            ctx.beginPath();
            ctx.moveTo(playerX + s(20), playerY + s(8));
            ctx.lineTo(playerX + s(15), playerY + s(22));
            ctx.lineTo(playerX + s(25), playerY + s(22));
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            // Aile gauche
            ctx.beginPath();
            ctx.moveTo(playerX + s(15), playerY + s(12));
            ctx.lineTo(playerX + s(2), playerY + s(8));
            ctx.lineTo(playerX + s(18), playerY + s(25));
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            // Aile droite
            ctx.beginPath();
            ctx.moveTo(playerX + s(25), playerY + s(12));
            ctx.lineTo(playerX + s(38), playerY + s(8));
            ctx.lineTo(playerX + s(22), playerY + s(25));
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            // Queue
            ctx.beginPath();
            ctx.moveTo(playerX + s(20), playerY + s(22));
            ctx.lineTo(playerX + s(18), playerY + s(30));
            ctx.lineTo(playerX + s(22), playerY + s(30));
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            ctx.shadowBlur = 0;
            
            // Ã‰toiles (adaptÃ©es aux formats)
            const drawStar = (x, y, size) => {
                ctx.fillStyle = '#FFD700';
                ctx.shadowBlur = size * 2;
                ctx.shadowColor = '#FFD700';
                ctx.beginPath();
                ctx.arc(x, y, size, 0, Math.PI * 2);
                ctx.fill();
                ctx.shadowBlur = 0;
            };
            const starSize = (platform === 'tiktok' || platform === 'youtubeshorts') 
                ? width * 0.008  // Pour portrait, utiliser la largeur
                : Math.min(width, height) * 0.008;
            drawStar(centerX - s(35), centerY - s(30), starSize);
            drawStar(centerX + s(35), centerY - s(25), starSize);
            drawStar(centerX + s(30), centerY + s(35), starSize);
            
            // Texte (adaptÃ© pour formats portrait)
            ctx.fillStyle = '#FFFFFF';
            ctx.strokeStyle = '#2c3e50';
            ctx.lineWidth = Math.max(2, height * 0.003);
            
            let titleFontSize, subtitleFontSize, titleY;
            if (platform === 'twitter') {
                titleFontSize = height * 0.08;
                subtitleFontSize = height * 0.05;
                titleY = height * 0.8;
            } else if (platform === 'tiktok' || platform === 'youtubeshorts') {
                titleFontSize = height * 0.05; // Plus petit pour portrait
                subtitleFontSize = height * 0.03;
                titleY = height * 0.62; // Plus proche du logo
            } else {
                titleFontSize = height * 0.08;
                subtitleFontSize = height * 0.05;
                titleY = height * 0.72;
            }
            
            ctx.font = `bold ${titleFontSize}px Arial`;
            ctx.textAlign = 'center';
            ctx.shadowBlur = 10;
            ctx.shadowColor = 'rgba(0, 0, 0, 0.5)';
            
            ctx.strokeText('Dove of Hope', centerX, titleY);
            ctx.fillText('Dove of Hope', centerX, titleY);
            
            ctx.font = `${subtitleFontSize}px Arial`;
            ctx.strokeText('Sky Blessing', centerX, titleY + (titleFontSize * 1.3));
            ctx.fillText('Sky Blessing', centerX, titleY + (titleFontSize * 1.3));
            ctx.shadowBlur = 0;
        }

        function changeLanguage(lang) {
            currentLang = lang;
            document.getElementById('philosophy').innerHTML = translations[lang].philosophy;
            document.getElementById('tagline').innerHTML = translations[lang].tagline;
            
            // RÃ©gÃ©nÃ©rer les aperÃ§us avec la nouvelle langue
            generatePreview('facebook');
            generatePreview('instagram');
            generatePreview('twitter');
            generatePreview('youtube');
            generatePreview('youtubeshorts');
            generatePreview('tiktok');
            
            // Update active button
            document.querySelectorAll('.language-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        // Export du logo SVG principal en JPG haute qualitÃ©
        function downloadMainLogoJPG(size = 1920) {
            // Utiliser html2canvas pour capturer exactement le rendu
            const logoContainer = document.querySelector('.logo-container');
            
            // CrÃ©er un canvas temporaire
            const tempCanvas = document.createElement('canvas');
            const scaleFactor = size / 420; // 420 = taille approximative du container
            tempCanvas.width = size;
            tempCanvas.height = size;
            const ctx = tempCanvas.getContext('2d');
            
            // Fond blanc
            ctx.fillStyle = '#FFFFFF';
            ctx.fillRect(0, 0, size, size);
            
            // Convertir le SVG en image
            const svg = document.querySelector('.logo-svg');
            const svgData = new XMLSerializer().serializeToString(svg);
            const svgBlob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' });
            const url = URL.createObjectURL(svgBlob);
            
            const img = new Image();
            img.onload = function() {
                // Calculer les dimensions du SVG (300x300 original)
                const svgSize = size * 0.5; // 50% de la hauteur totale
                const svgX = (size - svgSize) / 2;
                const svgY = size * 0.1;
                
                // Dessiner le cadre avec bordure dÃ©gradÃ©e
                const borderWidth = size * 0.008; // 8px Ã  1920px
                const borderRadius = size * 0.02; // 20px Ã  1920px
                
                // CrÃ©er le dÃ©gradÃ© pour la bordure
                const gradient = ctx.createLinearGradient(svgX, svgY, svgX + svgSize, svgY + svgSize);
                gradient.addColorStop(0, '#667eea');
                gradient.addColorStop(0.5, '#764ba2');
                gradient.addColorStop(1, '#f093fb');
                
                // Dessiner la bordure
                ctx.strokeStyle = gradient;
                ctx.lineWidth = borderWidth;
                ctx.lineJoin = 'round';
                ctx.lineCap = 'round';
                
                // Rectangle avec coins arrondis pour la bordure
                ctx.beginPath();
                ctx.roundRect(svgX - borderWidth/2, svgY - borderWidth/2, svgSize + borderWidth, svgSize + borderWidth, borderRadius);
                ctx.stroke();
                
                // Dessiner le SVG
                ctx.drawImage(img, svgX, svgY, svgSize, svgSize);
                
                // Ajouter le texte philosophie
                const philosophyText = document.getElementById('philosophy').innerText;
                const lines = philosophyText.split('\n');
                
                ctx.fillStyle = '#2c3e50';
                ctx.font = `bold ${size * 0.03}px Arial, sans-serif`;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.shadowBlur = size * 0.002;
                ctx.shadowColor = 'rgba(0, 0, 0, 0.2)';
                
                const textStartY = svgY + svgSize + size * 0.05;
                lines.forEach((line, i) => {
                    const y = textStartY + (i * size * 0.035);
                    ctx.fillText(line, size / 2, y);
                });
                
                // Ajouter le tagline
                ctx.shadowBlur = 0;
                ctx.font = `${size * 0.022}px Arial, sans-serif`;
                ctx.fillStyle = '#667eea';
                const taglineY = textStartY + (lines.length * size * 0.035) + size * 0.04;
                ctx.fillText('ğŸ•Šï¸ Dove of Hope: Sky Blessing ğŸ•Šï¸', size / 2, taglineY);
                
                // Export JPG
                tempCanvas.toBlob(blob => {
                    const downloadUrl = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = downloadUrl;
                    a.download = `dove-of-hope-main-logo-${size}x${size}-${currentLang}.jpg`;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    setTimeout(() => URL.revokeObjectURL(downloadUrl), 100);
                }, 'image/jpeg', 0.95);
                
                URL.revokeObjectURL(url);
            };
            
            img.onerror = function() {
                alert('âŒ Erreur lors du chargement du SVG. Veuillez rÃ©essayer.');
                URL.revokeObjectURL(url);
            };
            
            img.src = url;
        }

        // Export vidÃ©o animÃ©e du logo SVG principal
        async function downloadMainLogoVideo() {
            const size = 1080;
            const fps = 30;
            const duration = 5;
            const totalFrames = fps * duration;
            
            if (!window.MediaRecorder) {
                alert('âŒ Votre navigateur ne supporte pas l\'enregistrement vidÃ©o.\nUtilisez Chrome, Edge ou Opera.');
                return;
            }
            
            // VÃ©rifier le codec
            let mimeType = 'video/webm;codecs=vp9';
            if (!MediaRecorder.isTypeSupported(mimeType)) {
                mimeType = 'video/webm;codecs=vp8';
                if (!MediaRecorder.isTypeSupported(mimeType)) {
                    mimeType = 'video/webm';
                }
            }
            
            alert('ğŸ¬ GÃ©nÃ©ration de la vidÃ©o du logo principal...\nCela peut prendre 5-10 secondes.');
            
            const canvas = document.createElement('canvas');
            canvas.width = size;
            canvas.height = size;
            const ctx = canvas.getContext('2d', { alpha: false });
            
            const stream = canvas.captureStream(fps);
            const mediaRecorder = new MediaRecorder(stream, {
                mimeType: mimeType,
                videoBitsPerSecond: 5000000
            });
            
            const chunks = [];
            mediaRecorder.ondataavailable = e => {
                if (e.data.size > 0) chunks.push(e.data);
            };
            
            mediaRecorder.onstop = () => {
                const blob = new Blob(chunks, { type: mimeType });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `dove-of-hope-main-logo-animation-${currentLang}.webm`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                
                setTimeout(() => URL.revokeObjectURL(url), 100);
                alert(`âœ… VidÃ©o tÃ©lÃ©chargÃ©e!\n\nğŸ“¹ Format: WebM\nğŸ“Š Taille: ${(blob.size / 1024 / 1024).toFixed(2)} MB\n\nğŸ’¡ Convertir en MP4: cloudconvert.com`);
            };
            
            // Charger le SVG une fois
            const svg = document.querySelector('.logo-svg');
            const svgData = new XMLSerializer().serializeToString(svg);
            const svgBlob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' });
            const svgUrl = URL.createObjectURL(svgBlob);
            const svgImg = new Image();
            
            svgImg.onload = function() {
                let frame = 0;
                
                function renderFrame() {
                    const progress = frame / totalFrames;
                    
                    // Fond blanc
                    ctx.fillStyle = '#FFFFFF';
                    ctx.fillRect(0, 0, size, size);
                    
                    // Calculer dimensions
                    const svgSize = size * 0.5;
                    const svgX = (size - svgSize) / 2;
                    const svgY = size * 0.1;
                    
                    // Effet zoom (in puis out)
                    const zoomProgress = Math.sin(progress * Math.PI * 2);
                    const zoomScale = 1 + zoomProgress * 0.1; // Zoom de 90% Ã  110%
                    
                    ctx.save();
                    ctx.translate(size / 2, svgY + svgSize / 2);
                    ctx.scale(zoomScale, zoomScale);
                    ctx.translate(-size / 2, -(svgY + svgSize / 2));
                    
                    // Dessiner le cadre avec bordure dÃ©gradÃ©e
                    const borderWidth = size * 0.008;
                    const borderRadius = size * 0.02;
                    const gradient = ctx.createLinearGradient(svgX, svgY, svgX + svgSize, svgY + svgSize);
                    gradient.addColorStop(0, '#667eea');
                    gradient.addColorStop(0.5, '#764ba2');
                    gradient.addColorStop(1, '#f093fb');
                    ctx.strokeStyle = gradient;
                    ctx.lineWidth = borderWidth;
                    ctx.lineJoin = 'round';
                    ctx.lineCap = 'round';
                    ctx.beginPath();
                    ctx.roundRect(svgX - borderWidth/2, svgY - borderWidth/2, svgSize + borderWidth, svgSize + borderWidth, borderRadius);
                    ctx.stroke();
                    
                    // Dessiner le SVG
                    ctx.drawImage(svgImg, svgX, svgY, svgSize, svgSize);
                    ctx.restore();
                    
                    // Texte philosophie avec fade-in
                    const textOpacity = Math.min(1, progress * 2);
                    const philosophyText = document.getElementById('philosophy').innerText;
                    const lines = philosophyText.split('\n');
                    
                    ctx.fillStyle = `rgba(44, 62, 80, ${textOpacity})`;
                    ctx.font = `bold ${size * 0.03}px Arial, sans-serif`;
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.shadowBlur = size * 0.002;
                    ctx.shadowColor = `rgba(0, 0, 0, ${0.2 * textOpacity})`;
                    
                    const textStartY = svgY + svgSize + size * 0.05;
                    lines.forEach((line, i) => {
                        const y = textStartY + (i * size * 0.035);
                        ctx.fillText(line, size / 2, y);
                    });
                    
                    // Tagline
                    ctx.shadowBlur = 0;
                    ctx.font = `${size * 0.022}px Arial, sans-serif`;
                    ctx.fillStyle = `rgba(102, 126, 234, ${textOpacity})`;
                    const taglineY = textStartY + (lines.length * size * 0.035) + size * 0.04;
                    ctx.fillText('ğŸ•Šï¸ Dove of Hope: Sky Blessing ğŸ•Šï¸', size / 2, taglineY);
                    
                    frame++;
                    if (frame < totalFrames) {
                        requestAnimationFrame(renderFrame);
                    } else {
                        mediaRecorder.stop();
                        URL.revokeObjectURL(svgUrl);
                    }
                }
                
                mediaRecorder.start();
                renderFrame();
            };
            
            svgImg.onerror = function() {
                alert('âŒ Erreur lors du chargement du SVG pour la vidÃ©o.');
                URL.revokeObjectURL(svgUrl);
            };
            
            svgImg.src = svgUrl;
        }

        function downloadLogo(format, size) {
            const canvas = document.createElement('canvas');
            canvas.width = size;
            canvas.height = size;
            const ctx = canvas.getContext('2d');
            
            // Background gradient
            const gradient = ctx.createLinearGradient(0, 0, size, size);
            gradient.addColorStop(0, '#667eea');
            gradient.addColorStop(1, '#764ba2');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, size, size);
            
            // Draw dove (simplified for raster)
            ctx.fillStyle = '#FFFFFF';
            ctx.beginPath();
            ctx.arc(size/2, size/2.5, size/6, 0, Math.PI * 2);
            ctx.fill();
            
            // Body
            ctx.beginPath();
            ctx.ellipse(size/2, size/1.8, size/5, size/3.5, 0, 0, Math.PI * 2);
            ctx.fill();
            
            // Download
            canvas.toBlob(blob => {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `dove-of-hope-logo-${size}x${size}.png`;
                a.click();
                URL.revokeObjectURL(url);
            });
        }

        function downloadFavicon() {
            // Generate 32x32 favicon
            const canvas = document.createElement('canvas');
            canvas.width = 32;
            canvas.height = 32;
            const ctx = canvas.getContext('2d');
            
            // Simple dove icon
            ctx.fillStyle = '#667eea';
            ctx.fillRect(0, 0, 32, 32);
            ctx.fillStyle = '#FFFFFF';
            ctx.beginPath();
            ctx.arc(16, 12, 6, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.ellipse(16, 20, 8, 10, 0, 0, Math.PI * 2);
            ctx.fill();
            
            canvas.toBlob(blob => {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'favicon-32x32.png';
                a.click();
                URL.revokeObjectURL(url);
            });
        }

        function downloadSVG() {
            const svgContent = document.querySelector('.logo-svg').outerHTML;
            const blob = new Blob([svgContent], { type: 'image/svg+xml' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'dove-of-hope-logo.svg';
            a.click();
            URL.revokeObjectURL(url);
        }

        function downloadSocial(platform) {
            // Utiliser le canvas de prÃ©visualisation dÃ©jÃ  rendu
            const previewCanvas = document.getElementById(`preview${platform.charAt(0).toUpperCase() + platform.slice(1)}`);
            
            if (!previewCanvas) {
                console.error(`Canvas de prÃ©visualisation non trouvÃ© pour ${platform}`);
                return;
            }
            
            // CrÃ©er un nouveau canvas Ã  la taille rÃ©elle
            const canvas = document.createElement('canvas');
            canvas.width = previewCanvas.width;
            canvas.height = previewCanvas.height;
            const ctx = canvas.getContext('2d');
            
            // Copier le contenu du canvas de prÃ©visualisation
            ctx.drawImage(previewCanvas, 0, 0);
            
            // TÃ©lÃ©charger
            canvas.toBlob(blob => {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `dove-of-hope-${platform}-${canvas.width}x${canvas.height}-${currentLang}.png`;
                a.click();
                URL.revokeObjectURL(url);
            }, 'image/png', 1.0);
        }

        // Export en format spÃ©cifique (PNG ou JPG) pour les rÃ©seaux sociaux
        function downloadSocialFormat(platform, format) {
            const previewCanvas = document.getElementById(`preview${platform.charAt(0).toUpperCase() + platform.slice(1)}`);
            
            if (!previewCanvas) {
                console.error(`Canvas de prÃ©visualisation non trouvÃ© pour ${platform}`);
                return;
            }
            
            const canvas = document.createElement('canvas');
            canvas.width = previewCanvas.width;
            canvas.height = previewCanvas.height;
            const ctx = canvas.getContext('2d');
            
            // Copier le contenu
            ctx.drawImage(previewCanvas, 0, 0);
            
            // Export selon format
            const mimeType = format === 'jpg' ? 'image/jpeg' : 'image/png';
            const quality = format === 'jpg' ? 0.95 : 1.0;
            
            canvas.toBlob(blob => {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `dove-of-hope-${platform}-${canvas.width}x${canvas.height}-${currentLang}.${format}`;
                a.click();
                URL.revokeObjectURL(url);
            }, mimeType, quality);
        }

        // Export vidÃ©o animÃ©e pour rÃ©seaux sociaux (optimisÃ©)
        async function downloadSocialVideo(platform) {
            const sizes = {
                facebook: { width: 1200, height: 630 },
                instagram: { width: 1080, height: 1080 },
                twitter: { width: 1500, height: 500 },
                youtube: { width: 2560, height: 1440 },
                youtubeshorts: { width: 1080, height: 1920 },
                tiktok: { width: 1080, height: 1920 }
            };
            
            const { width, height } = sizes[platform];
            const fps = 30;
            const duration = 5;
            const totalFrames = fps * duration;
            
            if (!window.MediaRecorder) {
                alert('âŒ Votre navigateur ne supporte pas l\'enregistrement vidÃ©o.\nUtilisez Chrome, Edge ou Opera.');
                return;
            }
            
            // VÃ©rifier le codec disponible
            let mimeType = 'video/webm;codecs=vp9';
            if (!MediaRecorder.isTypeSupported(mimeType)) {
                mimeType = 'video/webm;codecs=vp8';
                if (!MediaRecorder.isTypeSupported(mimeType)) {
                    mimeType = 'video/webm';
                }
            }
            
            const loadingMsg = alert(`ğŸ¬ GÃ©nÃ©ration vidÃ©o ${platform} (${width}x${height})...\n\nâ³ 0% - Initialisation...`);
            
            const canvas = document.createElement('canvas');
            canvas.width = width;
            canvas.height = height;
            const ctx = canvas.getContext('2d', { alpha: false }); // Optimisation
            
            const stream = canvas.captureStream(fps);
            const mediaRecorder = new MediaRecorder(stream, {
                mimeType: mimeType,
                videoBitsPerSecond: Math.min(8000000, width * height * 2) // Adaptatif
            });
            
            const chunks = [];
            mediaRecorder.ondataavailable = e => {
                if (e.data.size > 0) chunks.push(e.data);
            };
            
            mediaRecorder.onstop = () => {
                const blob = new Blob(chunks, { type: mimeType });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `dove-of-hope-${platform}-${width}x${height}-${currentLang}.webm`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                
                // Nettoyage mÃ©moire
                setTimeout(() => URL.revokeObjectURL(url), 100);
                
                alert(`âœ… VidÃ©o tÃ©lÃ©chargÃ©e!\n\nğŸ“¹ Format: WebM (${mimeType})\nğŸ“Š Taille: ${(blob.size / 1024 / 1024).toFixed(2)} MB\n\nğŸ’¡ Pour convertir en MP4:\ncloudconvert.com ou ffmpeg`);
            };
            
            let frame = 0;
            let lastProgress = 0;
            
            function renderFrame() {
                const progress = frame / totalFrames;
                const time = frame / fps * 1000;
                
                // Mise Ã  jour progression tous les 10%
                const currentProgress = Math.floor(progress * 10) * 10;
                if (currentProgress !== lastProgress && currentProgress > 0) {
                    console.log(`â³ GÃ©nÃ©ration vidÃ©o: ${currentProgress}%`);
                    lastProgress = currentProgress;
                }
                
                // Fond dÃ©gradÃ© ciel
                const gradient = ctx.createRadialGradient(width/2, height*0.3, 0, width/2, height*0.3, Math.max(width, height)*0.8);
                gradient.addColorStop(0, '#FFE484');
                gradient.addColorStop(0.3, '#87CEEB');
                gradient.addColorStop(1, '#667eea');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, width, height);
                
                // Soleil avec rotation
                const sunSize = Math.min(width, height) * 0.07;
                const sunX = width * 0.8;
                const sunY = height * 0.2;
                const rotation = progress * Math.PI * 2;
                
                ctx.save();
                const sunGradient = ctx.createRadialGradient(sunX, sunY, 0, sunX, sunY, sunSize);
                sunGradient.addColorStop(0, '#FFF4D6');
                sunGradient.addColorStop(0.7, '#FFD700');
                sunGradient.addColorStop(1, 'rgba(255, 215, 0, 0.5)');
                ctx.fillStyle = sunGradient;
                ctx.shadowBlur = sunSize * 0.5;
                ctx.shadowColor = '#FFD700';
                ctx.beginPath();
                ctx.arc(sunX, sunY, sunSize, 0, Math.PI * 2);
                ctx.fill();
                
                // Rayons rotatifs
                ctx.strokeStyle = 'rgba(255, 215, 0, 0.4)';
                ctx.lineWidth = Math.min(width, height) * 0.003;
                ctx.lineCap = 'round';
                for (let i = 0; i < 8; i++) {
                    const angle = (i * Math.PI) / 4 + rotation;
                    ctx.beginPath();
                    ctx.moveTo(sunX + Math.cos(angle) * sunSize * 1.2, sunY + Math.sin(angle) * sunSize * 1.2);
                    ctx.lineTo(sunX + Math.cos(angle) * sunSize * 1.5, sunY + Math.sin(angle) * sunSize * 1.5);
                    ctx.stroke();
                }
                ctx.restore();
                
                // Nuages flottants
                const cloudOffset = (progress * width * 0.2) % (width * 0.3);
                const drawCloud = (x, y, cloudSize) => {
                    ctx.fillStyle = 'rgba(255, 255, 255, 0.6)';
                    ctx.shadowBlur = cloudSize * 0.2;
                    ctx.shadowColor = 'rgba(255, 255, 255, 0.5)';
                    ctx.beginPath();
                    ctx.ellipse(x, y, cloudSize, cloudSize * 0.6, 0, 0, Math.PI * 2);
                    ctx.ellipse(x + cloudSize * 0.5, y - cloudSize * 0.2, cloudSize * 0.8, cloudSize * 0.5, 0, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.shadowBlur = 0;
                };
                drawCloud(width * 0.2 + cloudOffset, height * 0.25, Math.min(width, height) * 0.06);
                drawCloud(width * 0.75 - cloudOffset * 0.5, height * 0.3, Math.min(width, height) * 0.07);
                
                // Position colombe (adaptÃ©e au format)
                const centerX = width / 2;
                let centerY, logoScale;
                
                if (platform === 'twitter') {
                    centerY = height * 0.45;
                    logoScale = Math.min(width, height) / 300;
                } else if (platform === 'tiktok' || platform === 'youtubeshorts') {
                    centerY = height * 0.35; // Plus haut pour formats portrait
                    logoScale = width / 300; // Utiliser la largeur pour les portraits
                } else {
                    centerY = height * 0.5;
                    logoScale = Math.min(width, height) / 300;
                }
                const s = (val) => val * logoScale;
                
                // Halo pulsant
                ctx.save();
                const haloScale = 1 + Math.sin(progress * Math.PI * 4) * 0.05;
                const haloSize = 60 * logoScale * haloScale;
                ctx.fillStyle = 'rgba(241, 196, 15, 0.3)';
                ctx.shadowBlur = 20 * logoScale;
                ctx.shadowColor = '#f1c40f';
                ctx.beginPath();
                ctx.arc(centerX, centerY, haloSize, 0, Math.PI * 2);
                ctx.fill();
                
                // Aura externe
                ctx.fillStyle = 'rgba(255, 255, 255, 0.1)';
                ctx.shadowBlur = 30 * logoScale;
                ctx.beginPath();
                ctx.arc(centerX, centerY, haloSize * 1.3, 0, Math.PI * 2);
                ctx.fill();
                ctx.restore();
                
                // Colombe avec battement d'ailes
                const playerX = centerX - s(20);
                const playerY = centerY - s(15);
                const beat = Math.sin(time * 0.015) * s(2);
                
                ctx.fillStyle = '#ffffff';
                ctx.strokeStyle = '#2c3e50';
                ctx.lineWidth = Math.max(2, s(1.5));
                ctx.shadowBlur = s(20);
                ctx.shadowColor = '#f1c40f';
                
                // TÃªte
                ctx.beginPath();
                ctx.moveTo(playerX + s(20), playerY + s(8));
                ctx.lineTo(playerX + s(15), playerY + s(22));
                ctx.lineTo(playerX + s(25), playerY + s(22));
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
                
                // Aile gauche
                ctx.beginPath();
                ctx.moveTo(playerX + s(15), playerY + s(12));
                ctx.lineTo(playerX + s(2), playerY + s(8) - beat);
                ctx.lineTo(playerX + s(18), playerY + s(25));
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
                
                // Aile droite
                ctx.beginPath();
                ctx.moveTo(playerX + s(25), playerY + s(12));
                ctx.lineTo(playerX + s(38), playerY + s(8) - beat);
                ctx.lineTo(playerX + s(22), playerY + s(25));
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
                
                // Queue
                ctx.beginPath();
                ctx.moveTo(playerX + s(20), playerY + s(22));
                ctx.lineTo(playerX + s(18), playerY + s(30));
                ctx.lineTo(playerX + s(22), playerY + s(30));
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
                ctx.shadowBlur = 0;
                
                // Ã‰toiles scintillantes (adaptÃ©es aux formats)
                const drawStar = (x, y, starSize, phase) => {
                    const starScale = 1 + Math.sin(progress * Math.PI * 8 + phase) * 0.3;
                    ctx.fillStyle = '#FFD700';
                    ctx.shadowBlur = starSize * 2;
                    ctx.shadowColor = '#FFD700';
                    ctx.beginPath();
                    ctx.arc(x, y, starSize * starScale, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.shadowBlur = 0;
                };
                const starSize = (platform === 'tiktok' || platform === 'youtubeshorts')
                    ? width * 0.008  // Pour portrait, utiliser la largeur
                    : Math.min(width, height) * 0.008;
                drawStar(centerX - s(35), centerY - s(30), starSize, 0);
                drawStar(centerX + s(35), centerY - s(25), starSize, Math.PI/2);
                drawStar(centerX + s(30), centerY + s(35), starSize, Math.PI);
                
                // Texte avec fade-in (adaptÃ© pour formats portrait)
                const textOpacity = Math.min(1, progress * 2);
                ctx.fillStyle = `rgba(255, 255, 255, ${textOpacity})`;
                ctx.strokeStyle = `rgba(44, 62, 80, ${textOpacity})`;
                ctx.lineWidth = Math.max(2, height * 0.003);
                
                let titleFontSize, subtitleFontSize, titleY;
                if (platform === 'twitter') {
                    titleFontSize = height * 0.08;
                    subtitleFontSize = height * 0.05;
                    titleY = height * 0.8;
                } else if (platform === 'tiktok' || platform === 'youtubeshorts') {
                    titleFontSize = height * 0.05; // Plus petit pour portrait
                    subtitleFontSize = height * 0.03;
                    titleY = height * 0.62; // Plus proche du logo
                } else {
                    titleFontSize = height * 0.08;
                    subtitleFontSize = height * 0.05;
                    titleY = height * 0.72;
                }
                
                ctx.font = `bold ${titleFontSize}px Arial`;
                ctx.textAlign = 'center';
                ctx.shadowBlur = 10;
                ctx.shadowColor = 'rgba(0, 0, 0, 0.5)';
                
                ctx.strokeText('Dove of Hope', centerX, titleY);
                ctx.fillText('Dove of Hope', centerX, titleY);
                
                ctx.font = `${subtitleFontSize}px Arial`;
                ctx.strokeText('Sky Blessing', centerX, titleY + (titleFontSize * 1.3));
                ctx.fillText('Sky Blessing', centerX, titleY + (titleFontSize * 1.3));
                ctx.shadowBlur = 0;
                
                frame++;
                if (frame < totalFrames) {
                    requestAnimationFrame(renderFrame);
                } else {
                    mediaRecorder.stop();
                }
            }
            
            mediaRecorder.start();
            renderFrame();
        }

        // Export en JPG haute qualitÃ©
        function downloadJPG(size = 1920) {
            const canvas = document.createElement('canvas');
            canvas.width = size;
            canvas.height = size;
            const ctx = canvas.getContext('2d');
            
            // Fond dÃ©gradÃ© ciel
            const gradient = ctx.createRadialGradient(size/2, size*0.3, 0, size/2, size*0.3, size*0.8);
            gradient.addColorStop(0, '#FFE484');
            gradient.addColorStop(0.3, '#87CEEB');
            gradient.addColorStop(1, '#667eea');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, size, size);
            
            // Soleil
            const sunSize = size * 0.07;
            const sunX = size * 0.8;
            const sunY = size * 0.2;
            const sunGradient = ctx.createRadialGradient(sunX, sunY, 0, sunX, sunY, sunSize);
            sunGradient.addColorStop(0, '#FFF4D6');
            sunGradient.addColorStop(0.7, '#FFD700');
            sunGradient.addColorStop(1, 'rgba(255, 215, 0, 0.5)');
            ctx.fillStyle = sunGradient;
            ctx.shadowBlur = sunSize * 0.5;
            ctx.shadowColor = '#FFD700';
            ctx.beginPath();
            ctx.arc(sunX, sunY, sunSize, 0, Math.PI * 2);
            ctx.fill();
            
            // Rayons du soleil
            ctx.strokeStyle = 'rgba(255, 215, 0, 0.4)';
            ctx.lineWidth = size * 0.003;
            ctx.lineCap = 'round';
            for (let i = 0; i < 8; i++) {
                const angle = (i * Math.PI) / 4;
                ctx.beginPath();
                ctx.moveTo(sunX + Math.cos(angle) * sunSize * 1.2, sunY + Math.sin(angle) * sunSize * 1.2);
                ctx.lineTo(sunX + Math.cos(angle) * sunSize * 1.5, sunY + Math.sin(angle) * sunSize * 1.5);
                ctx.stroke();
            }
            ctx.shadowBlur = 0;
            
            // Nuages
            const drawCloud = (x, y, cloudSize) => {
                ctx.fillStyle = 'rgba(255, 255, 255, 0.6)';
                ctx.shadowBlur = cloudSize * 0.2;
                ctx.shadowColor = 'rgba(255, 255, 255, 0.5)';
                ctx.beginPath();
                ctx.ellipse(x, y, cloudSize, cloudSize * 0.6, 0, 0, Math.PI * 2);
                ctx.ellipse(x + cloudSize * 0.5, y - cloudSize * 0.2, cloudSize * 0.8, cloudSize * 0.5, 0, 0, Math.PI * 2);
                ctx.fill();
                ctx.shadowBlur = 0;
            };
            drawCloud(size * 0.2, size * 0.25, size * 0.06);
            drawCloud(size * 0.75, size * 0.3, size * 0.07);
            
            // Halo dorÃ©
            const centerX = size / 2;
            const centerY = size / 2;
            const haloSize = size * 0.15;
            ctx.fillStyle = 'rgba(241, 196, 15, 0.3)';
            ctx.shadowBlur = size * 0.03;
            ctx.shadowColor = '#f1c40f';
            ctx.beginPath();
            ctx.arc(centerX, centerY, haloSize, 0, Math.PI * 2);
            ctx.fill();
            
            // Aura externe
            ctx.fillStyle = 'rgba(255, 255, 255, 0.1)';
            ctx.shadowBlur = size * 0.04;
            ctx.shadowColor = 'rgba(241, 196, 15, 0.4)';
            ctx.beginPath();
            ctx.arc(centerX, centerY, haloSize * 1.25, 0, Math.PI * 2);
            ctx.fill();
            ctx.shadowBlur = 0;
            
            // Colombe (4 triangles du jeu)
            const scale = size / 300;
            const s = (val) => val * scale;
            const playerX = centerX - s(20);
            const playerY = centerY - s(15);
            
            ctx.fillStyle = '#ffffff';
            ctx.strokeStyle = '#2c3e50';
            ctx.lineWidth = s(1);
            ctx.shadowBlur = s(20);
            ctx.shadowColor = '#f1c40f';
            
            // TÃªte/bec
            ctx.beginPath();
            ctx.moveTo(playerX + s(20), playerY + s(8));
            ctx.lineTo(playerX + s(15), playerY + s(22));
            ctx.lineTo(playerX + s(25), playerY + s(22));
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            // Aile gauche
            ctx.beginPath();
            ctx.moveTo(playerX + s(15), playerY + s(12));
            ctx.lineTo(playerX + s(2), playerY + s(8));
            ctx.lineTo(playerX + s(18), playerY + s(25));
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            // Aile droite
            ctx.beginPath();
            ctx.moveTo(playerX + s(25), playerY + s(12));
            ctx.lineTo(playerX + s(38), playerY + s(8));
            ctx.lineTo(playerX + s(22), playerY + s(25));
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            // Queue
            ctx.beginPath();
            ctx.moveTo(playerX + s(20), playerY + s(22));
            ctx.lineTo(playerX + s(18), playerY + s(30));
            ctx.lineTo(playerX + s(22), playerY + s(30));
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            ctx.shadowBlur = 0;
            
            // Ã‰toiles dorÃ©es
            const drawStar = (x, y, starSize) => {
                ctx.fillStyle = '#FFD700';
                ctx.shadowBlur = starSize * 2;
                ctx.shadowColor = '#FFD700';
                ctx.beginPath();
                ctx.arc(x, y, starSize, 0, Math.PI * 2);
                ctx.fill();
                
                // Lignes croix
                ctx.strokeStyle = 'rgba(255, 215, 0, 0.7)';
                ctx.lineWidth = starSize * 0.3;
                ctx.beginPath();
                ctx.moveTo(x, y - starSize * 2);
                ctx.lineTo(x, y + starSize * 2);
                ctx.moveTo(x - starSize * 2, y);
                ctx.lineTo(x + starSize * 2, y);
                ctx.stroke();
                ctx.shadowBlur = 0;
            };
            
            const starSize = size * 0.006;
            drawStar(centerX - s(30), centerY - s(25), starSize);
            drawStar(centerX + s(30), centerY - s(20), starSize);
            drawStar(centerX - s(20), centerY + s(30), starSize);
            drawStar(centerX + s(25), centerY + s(32), starSize);
            drawStar(centerX, centerY - s(40), starSize * 0.8);
            drawStar(centerX + s(35), centerY + s(10), starSize * 0.8);
            
            // Texte philosophie
            const text = translations[currentLang].philosophy.replace(/<br>/g, '\n');
            ctx.fillStyle = '#FFFFFF';
            ctx.strokeStyle = '#2c3e50';
            ctx.lineWidth = size * 0.003;
            ctx.font = `bold ${size * 0.04}px Arial`;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'top';
            ctx.shadowBlur = size * 0.01;
            ctx.shadowColor = 'rgba(0, 0, 0, 0.5)';
            
            const lines = text.split('\n');
            lines.forEach((line, i) => {
                const y = size * 0.75 + (i * size * 0.045);
                ctx.strokeText(line, centerX, y);
                ctx.fillText(line, centerX, y);
            });
            ctx.shadowBlur = 0;
            
            // Export en JPG qualitÃ© 95%
            canvas.toBlob(blob => {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `dove-of-hope-logo-${size}x${size}-${currentLang}.jpg`;
                a.click();
                URL.revokeObjectURL(url);
            }, 'image/jpeg', 0.95);
        }

        // Export vidÃ©o MP4 (animation 5 secondes)
        async function downloadVideo() {
            const size = 1080;
            const fps = 30;
            const duration = 5; // secondes
            const totalFrames = fps * duration;
            
            // VÃ©rifier MediaRecorder
            if (!window.MediaRecorder) {
                alert('âŒ Votre navigateur ne supporte pas l\'enregistrement vidÃ©o. Utilisez Chrome/Edge.');
                return;
            }
            
            // CrÃ©er canvas pour l'animation
            const canvas = document.createElement('canvas');
            canvas.width = size;
            canvas.height = size;
            const ctx = canvas.getContext('2d');
            
            const stream = canvas.captureStream(fps);
            const mediaRecorder = new MediaRecorder(stream, {
                mimeType: 'video/webm;codecs=vp9',
                videoBitsPerSecond: 8000000 // 8 Mbps
            });
            
            const chunks = [];
            mediaRecorder.ondataavailable = e => chunks.push(e.data);
            
            mediaRecorder.onstop = () => {
                const blob = new Blob(chunks, { type: 'video/webm' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `dove-of-hope-animation-${currentLang}.webm`;
                a.click();
                URL.revokeObjectURL(url);
                
                alert('âœ… VidÃ©o WebM tÃ©lÃ©chargÃ©e! Pour MP4, convertissez avec un outil en ligne (cloudconvert.com)');
            };
            
            let frame = 0;
            
            function renderFrame() {
                const progress = frame / totalFrames;
                const time = progress * duration * 1000;
                
                // Fond dÃ©gradÃ© ciel
                const gradient = ctx.createRadialGradient(size/2, size*0.3, 0, size/2, size*0.3, size*0.8);
                gradient.addColorStop(0, '#FFE484');
                gradient.addColorStop(0.3, '#87CEEB');
                gradient.addColorStop(1, '#667eea');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, size, size);
                
                // Soleil tournant
                const sunSize = size * 0.07;
                const sunX = size * 0.8;
                const sunY = size * 0.2;
                const rotation = (progress * Math.PI * 2);
                
                ctx.save();
                ctx.translate(sunX, sunY);
                ctx.rotate(rotation);
                
                const sunGradient = ctx.createRadialGradient(0, 0, 0, 0, 0, sunSize);
                sunGradient.addColorStop(0, '#FFF4D6');
                sunGradient.addColorStop(0.7, '#FFD700');
                ctx.fillStyle = sunGradient;
                ctx.shadowBlur = sunSize * 0.5;
                ctx.shadowColor = '#FFD700';
                ctx.beginPath();
                ctx.arc(0, 0, sunSize, 0, Math.PI * 2);
                ctx.fill();
                
                // Rayons
                ctx.strokeStyle = 'rgba(255, 215, 0, 0.4)';
                ctx.lineWidth = size * 0.003;
                for (let i = 0; i < 8; i++) {
                    const angle = (i * Math.PI) / 4;
                    ctx.beginPath();
                    ctx.moveTo(Math.cos(angle) * sunSize * 1.2, Math.sin(angle) * sunSize * 1.2);
                    ctx.lineTo(Math.cos(angle) * sunSize * 1.5, Math.sin(angle) * sunSize * 1.5);
                    ctx.stroke();
                }
                ctx.restore();
                ctx.shadowBlur = 0;
                
                // Nuages flottants
                const cloudOffset = (progress * size * 0.2) % (size * 0.3);
                const drawCloud = (x, y, cloudSize) => {
                    ctx.fillStyle = 'rgba(255, 255, 255, 0.6)';
                    ctx.beginPath();
                    ctx.ellipse(x + cloudOffset, y, cloudSize, cloudSize * 0.6, 0, 0, Math.PI * 2);
                    ctx.ellipse(x + cloudOffset + cloudSize * 0.5, y - cloudSize * 0.2, cloudSize * 0.8, cloudSize * 0.5, 0, 0, Math.PI * 2);
                    ctx.fill();
                };
                drawCloud(size * 0.1, size * 0.25, size * 0.06);
                drawCloud(size * 0.65, size * 0.3, size * 0.07);
                
                // Halo pulsant
                const centerX = size / 2;
                const centerY = size / 2;
                const haloScale = 1 + Math.sin(progress * Math.PI * 4) * 0.05;
                const haloSize = size * 0.15 * haloScale;
                
                ctx.fillStyle = 'rgba(241, 196, 15, 0.3)';
                ctx.shadowBlur = size * 0.03;
                ctx.shadowColor = '#f1c40f';
                ctx.beginPath();
                ctx.arc(centerX, centerY, haloSize, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.fillStyle = 'rgba(255, 255, 255, 0.1)';
                ctx.shadowBlur = size * 0.04;
                ctx.beginPath();
                ctx.arc(centerX, centerY, haloSize * 1.25, 0, Math.PI * 2);
                ctx.fill();
                ctx.shadowBlur = 0;
                
                // Colombe avec battement d'ailes
                const scale = size / 300;
                const s = (val) => val * scale;
                const playerX = centerX - s(20);
                const playerY = centerY - s(15);
                const beat = Math.sin(time * 0.015) * s(2);
                
                ctx.fillStyle = '#ffffff';
                ctx.strokeStyle = '#2c3e50';
                ctx.lineWidth = s(1);
                ctx.shadowBlur = s(20);
                ctx.shadowColor = '#f1c40f';
                
                // TÃªte
                ctx.beginPath();
                ctx.moveTo(playerX + s(20), playerY + s(8));
                ctx.lineTo(playerX + s(15), playerY + s(22));
                ctx.lineTo(playerX + s(25), playerY + s(22));
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
                
                // Aile gauche (animÃ©e)
                ctx.beginPath();
                ctx.moveTo(playerX + s(15), playerY + s(12));
                ctx.lineTo(playerX + s(2), playerY + s(8) + beat);
                ctx.lineTo(playerX + s(18), playerY + s(25));
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
                
                // Aile droite (animÃ©e)
                ctx.beginPath();
                ctx.moveTo(playerX + s(25), playerY + s(12));
                ctx.lineTo(playerX + s(38), playerY + s(8) - beat);
                ctx.lineTo(playerX + s(22), playerY + s(25));
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
                
                // Queue
                ctx.beginPath();
                ctx.moveTo(playerX + s(20), playerY + s(22));
                ctx.lineTo(playerX + s(18), playerY + s(30));
                ctx.lineTo(playerX + s(22), playerY + s(30));
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
                ctx.shadowBlur = 0;
                
                // Ã‰toiles scintillantes
                const drawStar = (x, y, starSize, phase) => {
                    const starScale = 1 + Math.sin(progress * Math.PI * 8 + phase) * 0.3;
                    ctx.fillStyle = '#FFD700';
                    ctx.shadowBlur = starSize * 2 * starScale;
                    ctx.shadowColor = '#FFD700';
                    ctx.beginPath();
                    ctx.arc(x, y, starSize * starScale, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.shadowBlur = 0;
                };
                
                const starSize = size * 0.006;
                drawStar(centerX - s(30), centerY - s(25), starSize, 0);
                drawStar(centerX + s(30), centerY - s(20), starSize, 1);
                drawStar(centerX - s(20), centerY + s(30), starSize, 2);
                drawStar(centerX + s(25), centerY + s(32), starSize, 3);
                
                // Texte avec fade-in
                const textOpacity = Math.min(1, progress * 2);
                const text = translations[currentLang].philosophy.replace(/<br>/g, '\n');
                ctx.globalAlpha = textOpacity;
                ctx.fillStyle = '#FFFFFF';
                ctx.strokeStyle = '#2c3e50';
                ctx.lineWidth = size * 0.003;
                ctx.font = `bold ${size * 0.04}px Arial`;
                ctx.textAlign = 'center';
                ctx.shadowBlur = size * 0.01;
                ctx.shadowColor = 'rgba(0, 0, 0, 0.5)';
                
                const lines = text.split('\n');
                lines.forEach((line, i) => {
                    const y = size * 0.75 + (i * size * 0.045);
                    ctx.strokeText(line, centerX, y);
                    ctx.fillText(line, centerX, y);
                });
                ctx.globalAlpha = 1;
                ctx.shadowBlur = 0;
                
                frame++;
                
                if (frame < totalFrames) {
                    requestAnimationFrame(renderFrame);
                } else {
                    mediaRecorder.stop();
                }
            }
            
            mediaRecorder.start();
            renderFrame();
            
            alert('ğŸ¬ Enregistrement vidÃ©o dÃ©marrÃ©... Patientez 5 secondes.');
        }
    </script>
</body>
</html>
